<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">

<head th:replace="base :: header(~{::title})">
    <title>Программа учёта заявок АО "СЦФБ" : Администрирование</title>
</head>

<body class="bg-light">

<div class="container align-content-center text-center pt-5">
    <div class = "row">
        <div class = "col-8 offset-2">
            <img class="mb-2" src="assets/images/SCFB_logo.png" width="100" height="100">
            <h3 class="mb-3 pt-5 font-weight-normal align-content-center">ПРОГРАММА УЧЁТА ЗАЯВОК АО "СЦФБ"</h3>
            <p class="lead">Вы вошли как <b>
                <span th:text="${currentUserName}">_template_</span>,
                <span sec:authorize="hasRole('ROLE_ADMIN')">администратор</span>
                <span sec:authorize="hasRole('ROLE_USER')">пользователь</span>
                <span sec:authorize="hasRole('ROLE_CHIEF')">руководитель</span>
                <span sec:authorize="hasRole('ROLE_SUPPLIER')">менеджер по поставкам</span></b>. Вы можете:</p>
            <ul class="text-left">
                <li>смотреть все свои заявки
                <li>создавать новые заявки
                <li>редактирование свои заявки (только до отправки на утверждение)
                <li>отправлять свои заявки на утверждение
            </ul>
        </div>
    </div>

    <div class="row">
        <table class="table table-hover table-sm"> <!-- table-striped -->
            <thead class ="thead-dark">
            <tr>
                <th scope="col">ID</th>
                <th scope="col">Дата создания</th>
                <th scope="col">Наименование первого товара</th>
                <th scope="col">Всего товаров</th>
                <th scope="col">Отпр.</th>
                <th scope="col">Утв.</th>
                <th scope="col">Исп.</th>
                <th scope="col">Комм.</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="order : ${orders}" th:id="${order.id}" data-toggle="modal" data-target="#request01">
                <td th:text="${order.id}">ID</td>
                <td th:text="${order.time}">01-01-2000</td>
                <td th:text="${order.firstProductName}">Название первого продукта</td>
                <td th:text="${order.orderLinesQty}">00</td>
                <td><span th:if="${order.getSent() == true}">&#9989;</span></td>
                <td><span th:if="${order.getApproved() == true}">&#9989;</span></td>
                <td><span th:if="${order.getExecuting() == true}">&#9989;</span></td>
                <td><span th:text="${order.messagesQty}" class="badge badge-light badge-pill">00</span></td>
            </tr>
    </table>
    <p>Сейчас у нас <span th:text="${serverTime}"></span>.</p>
    <p sec:authorize="isAuthenticated()">
        <a th:href="@{/logout}" th:text="#{logout.text}">Выйти из системы</a>
    </p>
    <div th:replace="~{base :: footer}"></div>

</div>
</body>
</html>